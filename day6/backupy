mem = [0, 2, 7, 0]
seen = []
seen.append(mem)
cycles = 0

def malloc(mem):
  m = list(mem)
  i = m.index(max(m)) + 1
  if i == len(m): i -= 1 
  blocks = max(m)
  m[m.index(max(m))] = 0
  while blocks > 0:
    m[i] += 1
    i += 1
    if (i == len(m)): i = 0
    blocks -= 1
  return m

while True:
  new_list = malloc(seen[-1])
  seen.append(new_list)
  cycles += 1
  if seen.count(new_list) == 2: break

print(cycles)
